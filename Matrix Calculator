#include<stdio.h>
int main()
{
    int arr1[10][10], arr2[10][10], i, j, k, rows1, col1, rows2, col2, summation = 0;
    int sum[10][10], sub[10][10], multiply[10][10];
    char op;
    printf("Enter number of rows and columns of first matrix\n");
    scanf("%d%d", &rows1, &col1);
    printf("Enter number of rows and columns of second matrix\n");
    scanf("%d%d", &rows2, &col2);
    printf("Enter the operation: ");
    scanf(" %c", &op);
    if(op=='-')
        if ((rows1 != rows2) || (col1!=col2))
        {
            printf("\nMath Error!\n");
        }
        else
        {
            printf("\nEnter First Matrix Elements:\n");
            for(i = 0; i < rows1; i++)
            {
                for(j = 0; j < col1; j++)
                {
                    printf("[%d][%d]: ", i, j);
                    scanf("%d", &arr1[i][j]);
                }
            }
            printf("\n\nDisplay the 1st matrix:\n\n");
            for (i = 0; i < rows1; i++)
            {
                for (j = 0; j < col1; j++)
                {
                    printf("%d\t", arr1[i][j]);
                }
                printf("\n");
            }
            printf("\nEnter Second Matrix Elements:\n");
            for(i = 0; i < rows2; i++)
            {
                for(j = 0; j < col2; j++)
                {
                    printf("[%d][%d]: ", i, j);
                    scanf("%d", &arr2[i][j]);
                }
            }
            printf("\n\nDisplay the 2nd matrix:\n\n");
            for (i = 0; i < rows1; i++)
            {
                for (j = 0; j < col1; j++)
                {
                    printf("%d\t", arr2[i][j]);
                }
                printf("\n");
            }
            for(i = 0; i < rows2; i++)
            {
                for(j = 0; j < col2; j++)
                {
                    sub[i][j] = arr1[i][j] - arr2[i][j];

                }
            }
            printf("\nSub of matrices is as follows:\n\n");
            for(i = 0; i < rows1; i++)
            {
                for(j = 0; j < col1; j++)
                {
                    printf("%d\t", sub[i][j]);
                }
                printf("\n");
            }
        }
    else if(op=='+')
        if ((rows1 != rows2) || (col1!=col2))
        {
            printf("\nMath Error!\n");
        }
        else
        {
            printf("\nEnter First Matrix Elements:\n");
            for(i = 0; i < rows1; i++)
            {
                for(j = 0; j < col1; j++)
                {
                    printf("[%d][%d]: ", i, j);
                    scanf("%d", &arr1[i][j]);
                }
            }
            printf("\n\nDisplay the 1st matrix:\n\n");
            for (i = 0; i < rows1; i++)
            {
                for (j = 0; j < col1; j++)
                {
                    printf("%d\t", arr1[i][j]);
                }
                printf("\n");
            }
            printf("\nEnter Second Matrix Elements:\n");
            for(i = 0; i < rows2; i++)
            {
                for(j = 0; j < col2; j++)
                {
                    printf("[%d][%d]: ", i, j);
                    scanf("%d", &arr2[i][j]);
                }
            }
            printf("\n\nDisplay the 2nd matrix:\n\n");
            for (i = 0; i < rows2; i++)
            {
                for (j = 0; j < col2; j++)
                {
                    printf("%d\t", arr2[i][j]);
                }
                printf("\n");
            }
            for(i = 0; i < rows1; i++)
            {
                for(j = 0; j < col1; j++)
                {
                    sum[i][j] = arr1[i][j] + arr2[i][j];
                }
            }
            printf("\nSum of matrices is as follows:\n\n");
            for(i = 0; i < rows1; i++)
            {
                for(j = 0; j < col1; j++)
                {
                    printf("%d\t", sum[i][j]);
                }
                printf("\n");
            }
        }
    else if(op=='*')
        if(col1 != rows2)
        {
            printf("Math Error!\n");
        }
        else
        {
            printf("\nEnter First Matrix Elements:\n");
            for(i = 0; i < rows1; i++)
            {
                for(j = 0; j < col1; j++)
                {
                    printf("[%d][%d]: ", i, j);
                    scanf("%d", &arr1[i][j]);
                }
            }
            printf("\n\nDisplay the 1st matrix:\n\n");
            for (i = 0; i < rows1; i++)
            {
                for (j = 0; j < col1; j++)
                {
                    printf("%d\t", arr1[i][j]);
                }
                printf("\n");
            }
            printf("\nEnter Second Matrix Elements:\n");
            for(i = 0; i < rows2; i++)
            {
                for(j = 0; j < col2; j++)
                {
                    printf("[%d][%d]: ", i, j);
                    scanf("%d", &arr2[i][j]);
                }
            }
            printf("\n\nDisplay the 2nd matrix:\n\n");
            for (i = 0; i < rows2; i++)
            {
                for (j = 0; j < col2; j++)
                {
                    printf("%d\t", arr2[i][j]);
                }
                printf("\n");
            }
            for (i = 0; i < rows1; i++)
            {
                for (j = 0; j < col2; j++)
                {
                    for (k = 0; k < rows2; k++)
                    {
                        summation = summation + arr1[i][k]*arr2[k][j];
                    }
                    multiply[i][j] = summation;
                    summation = 0;
                }
            }
            printf("\n\nMultiplication of the matrices:\n\n");
            for (i = 0; i < rows1; i++)
            {
                for (j = 0; j < col2; j++)
                    printf("%d\t", multiply[i][j]);
                printf("\n");
            }
        }
    else
        printf("Invalid!");
    getch();
}
